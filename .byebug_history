continue
current_user.bonus_points
continue
current_user.bonus_points
current_user.bonus_points - bonuses_payment_amount + real_cash_amount * 0.04
bonuses_payment_amount + real_cash_amount * 0.04
   21:                           - bonuses_payment_amount + real_cash_amount * 0.04
current_user.bonus_points
next
current_user.bonus_points
next
real_cash_amount * 0.04
real_cash_amount
bonuses_payment_amount
current_user.bonus_points
next
continue
next
pay_with_bonuses
next
continue
order.status != "Pending"
order.status
ordet.status
next
order
next
continue
Order.find_by!(id: params[:id])
Order.find!(params[:id])
Order.find_by!(params[:id])
Order.find_by!(params[id])
resource resource_params
params
@order
self.status
self.class
self
resource
continue
params[:user][:amount]
params
current_user
continue
current_user
params
continue
resource_params
params
current_user
continue
current_user
params[:amount].to_i
params[:amount]
params
continue
params
exit
purchase
q
params["purchase"]["quantity"].to_i
currPurchase.quantity
params
q
next
currPurchase
q
currPurchase
q
continue
@current_user
continue
self
self.params
params
@current_user
current_user
session
continue
self.class.superclass.superclass
self.class.superclass
self.class
params
User
user.current_user
session
@session
user: current_user
current_user
session[:user_id]
session
q
@current_user
current_user
q
session
Session.user
Session.all
Session
self
Session.all
Session
session
current_user
@current_user
quit
@current_user
continue
next
*args
next
@current_user
step
@current_user
exit
next
step
next
exit
